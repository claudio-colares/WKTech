unit RecordPedidoDAO;

interface

uses
 RecordPedido,RecordItemPedido,System.SysUtils, FireDAC.Comp.Client;

type
 TPedidoDAO = record
   private
    Conexao : TFDConnection;
   public
    constructor Create(AConexao: TFDConnection);

    function SalvarPedido(Pedido: TPedido): Boolean;
    function ConsultarPedido(NumeroPedido: Integer): TPedido;
    function CancelarPedido(NumeroPedido: Integer): Boolean;
 end;

implementation

{ TPedidoDAO }

function TPedidoDAO.CancelarPedido(NumeroPedido: Integer): Boolean;
var QryPedido : TFDQuery;

begin
 QryPedido := TFDQuery.Create(nil);

  try
    QryPedido.Connection := Conexao;
    Conexao.StartTransaction;

      QryPedido.SQL.Clear;
      QryPedido.SQL.Add('DELETE FROM pedidos WHERE numero_pedido LIKE  ' + NumeroPedido.ToString);
      QryPedido.ExecSQL;



  finally
    QryPedido.Free
  end;
end;

function TPedidoDAO.ConsultarPedido(NumeroPedido: Integer): TPedido;
begin
 //
end;

constructor TPedidoDAO.Create(AConexao: TFDConnection);
begin
  Conexao := AConexao;
end;

function TPedidoDAO.SalvarPedido(Pedido: TPedido): Boolean;
var
 QryPedido :TFDQuery;
// Item      :TPedidoItem;
begin
//
end;

end.
